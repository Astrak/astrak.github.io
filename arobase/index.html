<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0074)http://www.castres-mazamet.com/html/Hotel-Pepiniere-Entreprise-Arobase.php -->
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Communauté d'agglomération de Castres-Mazamet</title>
		<link href="http://www.castres-mazamet.com/common/css/style-inner-actu.css" rel="stylesheet" type="text/css">
		<link href="http://www.castres-mazamet.com/common/css/castres-mazamet.css" rel="stylesheet" type="text/css">


		<script type="text/javascript" src="http://www.castres-mazamet.com/common/js/jquery.js"></script>
		<script type="text/javascript" src="http://www.castres-mazamet.com/common/js/cycle.js"></script>
		<script type="text/javascript" src="http://www.castres-mazamet.com/common/js/jCarouselLite.js"></script>
		<script type="text/javascript" src="http://www.castres-mazamet.com/common/js/index.js"></script>
		<script type="text/javascript" src="http://www.castres-mazamet.com/common/js/libellus.js"></script>


		<!--script language="text/javascript" src="/common/js/milonic_src.js" type="text/javascript"></script>	
		<script language="text/javascript" src="/common/js/mmenudom.js" type="text/javascript"></script>
		<script language="text/javascript" src="/common/js/menu_data.js" type="text/javascript"></script-->


		<script src="http://www.castres-mazamet.com/Scripts/AC_RunActiveContent.js" type="text/javascript"></script>

		<script language="text/javascript" type="text/javascript">
			function popupcentree(page,nom,largeur,hauteur,options){
				var top=(screen.height-hauteur)/2;
				var left=(screen.width-largeur)/2;
				window.open(page,nom,"top="+top+",left="+left+",width="+largeur+",height="+hauteur+","+options);
			}
		</script>
		<link rel="stylesheet" type="text/css" href="http://www.castres-mazamet.com/html/highslide/highslide.css">
		<script type="text/javascript" src="http://www.castres-mazamet.com/html/highslide/highslide-full.js"></script>
		<script type="text/javascript" src="http://www.castres-mazamet.com/html/highslide/highslide.config.js" charset="utf-8"></script>
		<!--[if lt IE 7]>
		<link rel="stylesheet" type="text/css" href="/html/highslide/highslide-ie6.css" />
		<![endif]-->

		<script type="text/javascript" src="http://www.castres-mazamet.com/common/js/jquery-ui/ui/i18n/jquery.ui.datepicker-fr.js"></script>
		<script type="text/javascript" src="http://www.castres-mazamet.com/common/js/jquery-ui-1.10.3.custom/js/jquery-ui-1.10.3.custom.min.js"></script>
		<script type="text/javascript" src="http://www.castres-mazamet.com/common/js/deliberations.js"></script>
			
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-49621217-1', 'auto');
			ga('send', 'pageview');
		</script>

		<style type="text/css">
			@import url('https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz');

			.highslide img {
				cursor: url(/html/highslide/graphics/zoomin.cur), pointer !important;
			}
			.highslide-viewport-size {
				position: fixed; 
				width: 100%; 
				height: 100%; 
				left: 0; 
				top: 0
			}
			canvas{
				cursor:-webkit-grab;
			}
			canvas:active{
				cursor:-webkit-grabbing;
			}
		</style>
	</head>
	<body>

		<div class="header">
			<div class="slide_img"></div>
			<a href="http://www.castres-mazamet.com/" class="logo"><img src="http://www.castres-mazamet.com/common/images/logo.png" alt="logo"> </a>
		</div>

		<div class="service_sec">
			<div class="wrapper">
				<ul class="services">
					<li><div class="small_box gap0"><a href="http://www.castres-mazamet.com/actualites.php"><img src="http://www.castres-mazamet.com/common/images/actualites.png" alt=""><br>Actualites</a></div></li>
					<li class="Entreprendre"><div class="small_box gapEnt"><a href="http://www.castres-mazamet.com/html/Castres-Mazamet-Technopole.php"><img src="http://www.castres-mazamet.com/common/images/serviceEnt2.jpg" alt="" class="spacer1"><br>Entreprendre</a></div></li>
	                <li><div class="small_box gapEtudier"><a href="http://www.etudier-castres-mazamet.com/"><img src="http://www.castres-mazamet.com/common/images/etudier.jpg" alt="" class="spacer1"><br>Etudier</a></div></li>
					<li><div class="small_box gap1"><a href="http://www.larchipel.fr/"><img src="http://www.castres-mazamet.com/common/images/service1.jpg" alt=""><br>Loisirs</a></div></li>
					<li><div class="small_box gap2"><a href="http://www.castres-mazamet.com/html/transports-scolaires.php"><img src="http://www.castres-mazamet.com/common/images/service2.jpg" alt="" width="74" height="28" class="spacer1"><br>Transports<br>scolaires</a></div></li>
					<li><div class="small_box gap3"><a href="http://www.libellus.org/"><img src="http://www.castres-mazamet.com/common/images/service3.jpg" alt=""><br>Bus LIBELLUS</a></div></li>
					<li class="last"><div class="small_box gap4"><a href="http://www.castres-mazamet.com/html/Service-Environnement_Accueil.php"><img src="http://www.castres-mazamet.com/common/images/service4.jpg" alt=""><br>Déchets</a></div></li>
				</ul>
			</div>
		</div>
		
		<div id="body_container">
			<div class="wrapper">
				<div class="left_container">
					<div class="menu">
						<ul class="left-menu">
							<li class="category"><img src="http://www.castres-mazamet.com/common/images/menu/collectivite.jpg" alt="collectivités"></li>
							<li><a href="http://www.castres-mazamet.com/html/territoire.htm" >Territoire</a></li>
							<li class="separator" ></li>
							<li><a href="http://www.castres-mazamet.com/conseil-agglomeration.php" >Conseil</a></li>
							<li class="separator" ></li>
							<li><a href="http://www.castres-mazamet.com/deliberations.php" >Délibérations</a></li>
							<li class="separator" ></li>
							<li><a href="http://www.castres-mazamet.com/html/competences.htm" >Compétences</a></li>
							<li class="separator" ></li>
							<li><a href="http://www.castres-mazamet.com/html/services.htm" >Services</a></li>
							<li class="separator" ></li>
							<li><a href="http://www.castres-mazamet.com/html/ao_listing.php" >Marchés publics</a></li>
							<li class="category"><img src="http://www.castres-mazamet.com/common/images/menu/kiosque.jpg" alt="kiosque"></li>
							<li>
								<a >Le magazine Pôles Sud</a>
								<ul id="poles-sud" class="subMenu" style="display: none;">
									<li><a href="http://www.castres-mazamet.com/html/polessud.php" >Dernier numéro</a></li>
									<li><a href="http://www.castres-mazamet.com/html/polessud.php#archives" >Archives</a></li>
								</ul>
							</li>
							<li class="separator" ></li>
							<li><a href="http://www.castres-mazamet.com/youtube/" >Web TV</a></li>
							<li class="separator" ></li>
							<li>
								<a >Rapport d'activité et &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guides</a>
								<ul id="rapport-activite" class="subMenu" style="display: none;">
									<li><a href="http://www.castres-mazamet.com/pdf/rapport-activite/2014.pdf" target="_blank" >Rapport d'activité</a></li>
						            <li><a href="http://www.castres-mazamet.com/pdf/rapport-activite/2014_finances.pdf" target="_blank" >Rapport d'activité - Les finances</a></li>
									<li><a href="http://www.castres-mazamet.com/eBrochure/accueil-nouveaux-arrivants_2015/" target="_blank" >Guide des nouveaux arrivants</a></li>
									<li><a href="http://www.castres-mazamet.com/eBrochure/Guide-Touristique-2015-2016/" target="_blank" >Guide touristique</a></li>
									<li><a href="http://www.castres-mazamet.com/eBrochure/hebergement-restauration_2015/" target="_blank" >Guide de l'hébergement et de la restauration</a></li>
								</ul>
							</li>
							<li class="category"><img src="http://www.castres-mazamet.com/common/images/menu/agglomeration.jpg" alt="agglomeration"></li>
							<li>
								<a >S'installer</a>
								<ul id="s-installer" class="subMenu">
									<li><a href="http://www.etudier-castres-mazamet.com/html/logement_index.php" >Quand on est étudiant</a></li>
									<li>
										<a >Trouver un logement privé</a>
										<ul id="s-installer-prive" class="subMenu2">
											<li><a href="http://www.castres-mazamet.com/html/hab_agances.htm" >Agences immobilières</a></li>
											<li><a href="http://www.castres-mazamet.com/html/hab_notaires.htm" >Notaires</a></li>
											<li><a href="http://www.castres-mazamet.com/html/hab_conseils.htm" >Conseils juridiques<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp; aides spécifiques</a></li>
										</ul>
									</li>
									<li>
										<a >Louer un logement locatif HLM</a>
										<ul id="s-installer-hlm" class="subMenu2">
											<li><a href="http://www.castres-mazamet.com/html/hab_hlm1.htm" >Où retirer un dossier ?</a></li>
											<li><a href="http://www.castres-mazamet.com/html/hab_hlm2.htm" >Qui a droit à un logement social ?</a></li>
											<li><a href="http://www.castres-mazamet.com/html/hab_hlm3.htm" >Quel type de logement pour quelle famille ?</a></li>
										</ul>
									</li>
									<li><a href="http://www.castres-mazamet.com/html/hab_soc.htm" >Hébergement d'urgence et d'insertion</a></li>
									<li><a href="http://www.castres-mazamet.com/html/hab_lot.htm" >Acheter un terrain en lotissement</a></li>
									<li><a href="http://www.castres-mazamet.com/html/hab_marche.htm" >Le marché de l'immobilier</a></li>
								</ul>
							</li>
							<li class="separator" ></li>
							<li>
								<a >Se déplacer</a>
								<ul id="se-deplacer" class="subMenu">
									<li><a href="http://www.libellus.org/" >Les bus libellus</a></li>
									<li><a href="http://www.castres-mazamet.com/html/transports-scolaires.php" >Les transports scolaires</a></li>
									<li><a href="http://www.castres-mazamet.com/html/dep_train.htm" >Le train</a></li>
									<li><a href="http://www.castres-mazamet.com/html/dep_avion.htm" >L'avion</a></li>
								</ul>
							</li>
							<li class="separator" ></li>
							<li>
								<a >Entreprendre</a>
								<ul id="entreprendre" class="subMenu">
									<li><a href="http://www.castres-mazamet.com/html/Castres-Mazamet-Technopole.php" >Castres-Mazamet Technolopole <sup>CEEI</sup></a></li>
									<li><div>&nbsp;&nbsp;&nbsp;HÔTELS ET PÉPINIÈRES D'ENTREPRISES</div></li>
									<li><a href="http://www.castres-mazamet.com/html/ent_presentation.php" >Présentation</a></li>
									<li><a href="http://www.castres-mazamet.com/html/ent_causse.php" >L'Arobase</a></li>
									<li><a href="http://www.castres-mazamet.com/html/ent_bradford.php" >Le Centre Bradford</a></li>
									<li><a href="http://www.castres-mazamet.com/html/espace-initiative.php" >Espace Initiative</a></li>
									<li><a href="http://www.castres-mazamet.com/html/Hotel-Pepiniere-Annuaire-Entreprises.php" >Annuaire des entreprises<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;en pépinières ou hôtel d'entreprises</a></li>
						            <li>
						              <div>&nbsp;&nbsp;&nbsp;LES SITES D'ACTIVITES</div></li>
									<li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Agglomeration.php" >Tous les sites d'activités</a></li>
									<li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Causse.php" >Le Causse Espace d'Entreprises</a></li>
									<li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Thore.php" >Parc d'activités du Thoré</a></li>
						            <li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Saint-Alby.php" >ZA du Galinrey</a></li>
						            <li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Moliere-Basse.php" >ZA de la Molière Basse</a></li>
						            <!--<li>
						              <div><a href="http://www.castres-mazamet.com/html/numerique.htm">&nbsp;&nbsp;&nbsp;PÔLE NUMÉRIQUE</a></div></li>-->
								</ul>
							</li>
							<li class="separator" ></li>
							<li><a href="http://www.castres-mazamet.com/html/numerique.htm" >Pôle numérique</a></li>
							<li class="separator" ></li>
							<li>
								<a >Etudier</a>
								<ul id="etudier" class="subMenu">
						            <li><a href="http://www.etudier-castres-mazamet.com/" >Accueil</a></li>
						            <li><a href="http://www.etudier-castres-mazamet.com/enseignement-castres-mazamet.php" >L’enseignement</a></li>
						            <li><a >Le campus</a>
						                <ul id="etudier-campus" class="subMenu2">
						                    <li><a href="http://www.etudier-castres-mazamet.com/localisation-campus-universitaire-castres-mazamet.php" >Se situer</a></li>
						                    <li><a href="http://www.etudier-castres-mazamet.com/restaurant-universitaire-castres-mazamet.php" >Se restaurer</a></li>
						                    <li><a href="http://www.etudier-castres-mazamet.com/transport-acces-castres-mazamet.php" >Se déplacer</a></li>
						                </ul>
						            </li>
						            <li><a >L’hébergement</a>
						                <ul id="etudier-heb" class="subMenu2">
						                    <li><a href="http://www.etudier-castres-mazamet.com/location-hebergement-etudiant-castres-mazamet.php" >L'offre</a></li>
						                    <li><a href="http://www.etudier-castres-mazamet.com/offre-location-hebergement-etudiant-castres-mazamet.php" >Trouver un logement</a></li>
						                </ul>
						            </li>
						            <li><a >Les aides</a>
						                <ul id="etudier-aides" class="subMenu2">
						                    <li><a href="http://www.etudier-castres-mazamet.com/aides-regionales-etudiants.php" >Les aides de la Région</a></li>
						                    <li><a href="http://www.etudier-castres-mazamet.com/autres-aides-etudiants.php" >Les autres aides</a></li>
						                </ul>
						            </li>
						            <li><a >La vie étudiante</a>
						                <ul id="etudier-vie" class="subMenu2">
						                    <li><a href="http://www.etudier-castres-mazamet.com/vie-etudiante-castres-mazamet.php" >L’ACME</a></li>
						                    <li><a href="http://www.etudier-castres-mazamet.com/evenements-manifestations-castres-mazamet.php" >Évènements &amp; manifestations</a></li>
						                    <li><a href="http://www.etudier-castres-mazamet.com/vie-sportive-et-culturelle-castres-mazamet.php" >La vie sportive &amp; culturelle</a></li>
						                </ul>
						            </li>
						            <li><a href="http://www.etudier-castres-mazamet.com/syndicat-mixte-enseignement-superieur.php" >Le Syndicat Mixte</a></li>
								</ul>
							</li>
							<li class="separator" ></li>
							<li>
								<a >Protéger &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l'environnement</a>
								<ul id="environnement" class="subMenu">
									<li><a href="http://www.castres-mazamet.com/html/plan-climat-energie-actualites.php" >Plan Climat Énergie Territorial</a></li>
									<li><a href="http://www.castres-mazamet.com/html/Service-Environnement_Accueil.php" >Collecte des déchets</a></li>
								</ul>
							</li>
							<li class="separator" ></li>
							<li>
								<a >Améliorer l'habitat</a>
								<ul id="habitat" class="subMenu">
									<li><a href="http://www.castres-mazamet.com/habitat-facades.htm" >Les façades</a></li>
									<li><a href="http://www.castres-mazamet.com/habitat-OPAH.htm" >Les OPAH</a></li>
									<li><a href="http://www.castres-mazamet.com/habitat-dispositif-departemental.htm" >Le dispositif départemental</a></li>
								</ul>
							</li>
							<li class="separator" ></li>
							<li>
								<a >Faciliter l’insertion &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;professionnelle</a>
								<ul id="insertion" class="subMenu">
									<li><a href="http://www.castres-mazamet.com/insertion-professionnelle-entreprises.htm" >Pour les entreprises</a></li>
									<li><a href="http://www.castres-mazamet.com/insertion-professionnelle-collectivites.htm" >Pour les collectivités</a></li>
									<li><a href="http://www.castres-mazamet.com/insertion-professionnelle-acteurs-insertion.htm" >Acteurs d'insertion</a></li>
								</ul>
							</li>
							<li class="separator" ></li>
							<li><a href="http://www.castres-mazamet.com/contrat-de-ville.php" >Contrat de ville</a></li>
							<li class="separator" ></li>
							<li>
								<a >Nager, patiner, s’amuser</a>
								<ul id="loisirs" class="subMenu">
									<li>
										<a >Piscine et patinoire l'Archipel</a>
										<ul id="loisirs-archipel" class="subMenu2">
											<li><a href="http://www.larchipel.fr/archipel-piscine.php" >La piscine</a></li>
											<li><a href="http://www.larchipel.fr/archipel-patinoire.php" >La patinoire</a></li>
											<li><a href="http://www.larchipel.fr/archipel-restaurant.php" >Le restaurant</a></li>
										</ul>
									</li>
									<li><a href="http://www.larchipel.fr/piscine-caneton.php" >Piscine Caneton</a></li>
									<li><a >Centre aquatique de Mazamet</a>
										<ul id="centre-aquatique" class="subMenu2">
											<li><a href="http://www.larchipel.fr/centre-aquatique-mazamet.php" >Présentation</a></li>
											<li><a href="http://www.larchipel.fr/centre-aquatique-mazamet-horaires-tarifs.php" >Horaires et tarifs</a></li>
											<li><a href="http://www.larchipel.fr/centre-aquatique-mazamet-activites.php" >Activités</a></li>
										</ul>
						            </li>
									<li><a href="http://www.larchipel.fr/lac-montagnes.php" >Base de loisirs du lac des Montagnès</a></li>
								</ul>
							</li>
							<li class="menu-bas" ></li>
						</ul>
						<!--div id="subMenu"></div-->

						<script type="text/javascript">
							$(document).ready(function() {
								// menu de deuxième niveau
								$('.left-menu > li')
									.bind('mouseover', function() {
										if ($(this).children("a").attr('href')) { return; }
										$(this).children("ul").show();
									})
									.bind('mouseout', function() {
										$(this).children("ul").hide();
									});
								
								// menu de troisième niveau
								$('.subMenu > li')
									.bind('mouseover', function() {
										if ($(this).children("a").attr('href')) { return; }
										$(this).children("ul").css("left", $(this).parent().width());
										$(this).children("ul").show();
									})
									.bind('mouseout', function() {
										$(this).children("ul").hide();
									});
							});
						</script>			
					</div>
					<div class="content_container">
							    
						<div class="submenu Entreprise" style='background:#1693C1;'>
							<ul>						
					            <li><a href="http://www.castres-mazamet.com/html/Castres-Mazamet-Technopole.php" >Castres-Mazamet Technopole <sup class="exp">CEEI</sup></a></li>
								<li class="active"><a href="http://www.castres-mazamet.com/html/Hotel-Pepiniere-Entreprise-presentation.php">Hôtels et Pépinières d'Entreprises</a>
					            	<ul style="display: block;">
										<li class=""><a href="/html/Hotel-Pepiniere-Entreprise-presentation.php">Pépinières</a></li>
					                    <li class="active"><a href="/html/Hotel-Pepiniere-Entreprise-Arobase.php">L'Arobase</a></li>
					                    <li><a href="/html/Hotel-Pepiniere-Entreprise-Bradford.php">Le Centre Bradford</a></li>
					                    <li><a href="/html/Hotel-Pepiniere-Espace-Initiative.php">Espace Initiative</a></li>
					                    <li><a href="/html/Hotel-Pepiniere-Annuaire-Entreprises.php">Annuaire</a></li>
					                </ul>
					            </li>
								<li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Agglomeration.php">Les sites d’activités</a>
					            	<ul style="display: none;">
					                    <li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Agglomeration.php">Tous les sites d’activités</a></li>
					                    <li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Causse.php">Le Causse Espace d’Entreprises</a></li>
					                    <li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Thore.php">Parc d’activités du Thoré</a></li>
					                    <li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Saint-Alby.php">ZA du Galinrey</a></li>
					                    <li><a href="http://www.castres-mazamet.com/html/Zones-Activites-Moliere-Basse.php">ZA de la Molière Basse</a></li>
					                </ul>
					            </li>
							</ul>
						</div>

			       		<div id="contentEntr">
				       		<div id="colGaucheEntr">
				       			<div class="left_common">
									<h2>L'Arobase<br><span class="size">3 280 m² de bureaux à la location</span></h2>   
			                        <div class="diaporama">
			                        	
			                        </div>
		                               
		           					<img src="http://www.castres-mazamet.com/common/images/arobase_logo.jpg" style="margin:20px 0;">
		                               
		                            <h3>L’offre immobilière</h3>
		                            
			                            <p>- 43 bureaux modulables de 13 à 212 m²<br>
										- Locaux d’archivage<br>
										<br>
										</p>
		                                
				    				<h3>Equipements</h3>
		                               
			                            <p>- Accès Internet à très haut débit et sécurisé (fibre optique)<br>
			                                - Câblage informatique<br>
			                                - Climatisation réversible<br>
			                                - Accès sécurisé 24H/24 et 7J/7<br>
			                                - Salles de réunion équipées vidéo, Internet, WIFI<br>
			                                - Salle de visioconférence<br>
											 - Espace de co-working<br>
			                                - Espace détente/cafétéria<br>
			                                - Parking<br>
									    <br>
									    </p>
		                              
		                   			<h3>Un quotidien simplifié</h3>
		                               
			                            <p>- Accueil physique et téléphonique personnalisé<br>
			                            - Services numériques à très haut débit<br>
			                            - Distribution et collecte du courrier<br>
			                            - Presse<br>
			                            - Prestations bureautiques<br>
			                            - Télécopie<br>
			                            - Accompagnement sur mesure pour les créateurs d’entreprises<br>
				        				<br></p>
		                              
		                   			<h3>Un centre d’affaires et de congrès à proximité</h3>
		                              
			                            <p> - Amphithéâtre de 90 places<br>
			                            - Salles de réunion de 25 à 90 places<br>
			                            - Salons d’accueil et d’exposition<br>
			                            - Espace de restauration<br>
			                            - Services administratifs (Communauté d’agglomération…)<br>
						        		<br></p>
		                              
		                   			<h3>Situation</h3>
		                              
			                            <p>- Entre Toulouse, Montpellier et Barcelone, l’Arobase est situé sur le Causse Espace d’Entreprises, espace de haute technologie dans un environnement exceptionnel<br>
										- Castres à 2 km<br>
										- Mazamet à 8 km<br>
										- Toulouse à 70 km<br>
										- Aéroport régional à 2 km, 2 AR/jour avec Paris et Lyon<br>
								        <br></p>
		                              
		                   			<h3>Conditions financières</h3>
		                              
			                            <p>- Loyer 95 € HT/m²/an – à partir de 38€ pour les créateurs d’entreprises<br>
										- Charges : 15 €/HT/m²/an<br>
										- Durée d’hébergement flexible - 1 mois de préavis – 1 mois de dépôt de garantie<br>
								        <br></p>
				                             
		                   			<h3>Plan du bâtiment 1 «Arobase 1»</h3>
		                              
			                            <!-- Map -->
			                            <iframe src="http://www.castres-mazamet.com/arobase1.html" frameborder="0" width="800px" height="550px" scrolling="no" style="position:relative;"></iframe>
			                            <!--<div style="position:relative; width:800px">
			                            <div class="map-container">
			                                <div id="mapplic" class="mapplic-element" style="height:550px"></div>
			                            </div>
			                            </div>-->
			                            <br><br>
		                             
		                   			<h3>Plan du bâtiment 2 «Arobase 2»</h3>
		                              
			                            <iframe src="http://www.castres-mazamet.com/arobase2.html" frameborder="0" width="800px" height="550px" scrolling="no" style="position:relative;"></iframe>
			                             <br><br>
		                             
		                   			<h3>Localisation</h3>
		                       
			                            <p>
				                            "L'Arobase" est situé sur la zone d’activité "Le Causse Espaces d’Entreprises", au cœur de l’agglomération de Castres-Mazamet, à proximité immédiate de l’aéroport régional.
				                            <img src="http://www.castres-mazamet.com/common/images/Plan-ZAC-du-Causse.jpg" style="margin-top:20px;">
				                            <br><br>
			                            </p>
				                </div>
							</div>
							<div id="colDroiteEntr" style="margin-top:25px;">
		                        <div style="padding:20px 7px;">
		                        	<a href="http://www.castres-mazamet-technopole.fr/" target="_blank"><img src="http://www.castres-mazamet.com/common/images/pepiniere_logo.jpg" border="0"></a>
		                  		</div>
		                    	<!-- sidebar "Infos pratiques" -->
		                     	<div class="right_common">
		                        	<h3>Contact :</h3>
			                            <p><strong>L’Arobase</strong><br>
			                            2-4 rue Georges Charpak<br>
			                            Le Causse Espace d’Entreprises<br>
			                            81100 Castres</p>
			                            
			                            <p>Anne-Cécile Roux<br>
			                            Tel&nbsp;: 05 63 73 51 30<br>
			                            </p>
		                        	<div class="right_btm" style="margin-bottom:3px;">
		                            	<p>Mail :<br>
		                            		<a href="mailto:anne-cecile.roux@castres-mazamet.com">anne-cecile.roux@castres-mazamet.com</a>
		                            	</p>
		                        	</div>
		                    	</div>
		            		</div>
		   				</div>
		   				<div style="clear:both"></div>
		   			</div>
				</div>
			</div>
		</div>
		<div class="footer">
			<div class="footer_top">
				<div class="wrapper">
					<ul class="footer_links">
						<li><a href="http://www.castres-mazamet.com/html/situation.htm">Localisation</a></li>
						<li><a href="http://www.castres-mazamet.com/html/plan.htm">Plan du site</a></li>
						<li><a href="http://www.castres-mazamet.com/html/load.htm">Télécharger</a></li>
		                <li><a href="http://www.castres-mazamet.com/html/liens.htm">Liens</a></li>
						<!--<li><a href="#">Emploi</a></li>-->
						<li class="last"><a href="http://www.castres-mazamet.com/html/contactagglo.php">Contact</a></li>
					</ul>
				</div>
			</div>
			<div class="footer_bottom">
				<div class="wrapper">
					<p>Communauté d'agglomération de Castres-Mazamet ©2013</p>
					<p><a href="http://www.castres-mazamet.com/html/publicites_reglementaires.htm">Publicités réglementaires</a> - <a href="http://www.castres-mazamet.com/html/legales.htm">Mention légales</a>  -  <a href="mailto:agglomeration@castres-mazamet.com">Email</a></p>
					<a href="http://www.kauriweb.com/" class="right_link_footer"><img src="http://www.castres-mazamet.com/common/images/footer_img.jpg" alt=""></a>
				</div>
			</div>
		</div>
		<div class="highslide-container" style="padding: 0px; border: none; margin: 0px; position: absolute; left: 0px; top: 0px; width: 100%; z-index: 1001; direction: ltr;">
			<a class="highslide-loading" title="Cliquer pour annuler" href="javascript:;" style="position: absolute; top: -9999px; opacity: 0.75; z-index: 1;">Chargement...</a>
			<div style="display: none;"></div>
			<div class="highslide-viewport highslide-viewport-size" style="padding: 0px; border: none; margin: 0px; visibility: hidden;"></div>
			<table cellspacing="0" style="padding: 0px; border: none; margin: 0px; visibility: hidden; position: absolute; border-collapse: collapse; width: 0px;">
				<tbody style="padding: 0px; border: none; margin: 0px;"><tr style="padding: 0px; border: none; margin: 0px; height: auto;"><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; height: 26px; width: 26px; background: url(&quot;http://www.castres-mazamet.com/html/highslide/graphics/outlines/custom.png&quot;) 0px 0px;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; height: 26px; width: 26px; background: url(&quot;http://www.castres-mazamet.com/html/highslide/graphics/outlines/custom.png&quot;) 0px -52px;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; height: 26px; width: 26px; background: url(&quot;http://www.castres-mazamet.com/html/highslide/graphics/outlines/custom.png&quot;) -26px 0px;"></td></tr><tr style="padding: 0px; border: none; margin: 0px; height: auto;"><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; height: 26px; width: 26px; background: url(&quot;http://www.castres-mazamet.com/html/highslide/graphics/outlines/custom.png&quot;) 0px -104px;"></td><td class="custom highslide-outline" style="padding: 0px; border: none; margin: 0px; position: relative;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; height: 26px; width: 26px; background: url(&quot;http://www.castres-mazamet.com/html/highslide/graphics/outlines/custom.png&quot;) -26px -104px;"></td></tr><tr style="padding: 0px; border: none; margin: 0px; height: auto;"><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; height: 26px; width: 26px; background: url(&quot;http://www.castres-mazamet.com/html/highslide/graphics/outlines/custom.png&quot;) 0px -26px;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; height: 26px; width: 26px; background: url(&quot;http://www.castres-mazamet.com/html/highslide/graphics/outlines/custom.png&quot;) 0px -78px;"></td><td style="padding: 0px; border: none; margin: 0px; line-height: 0; font-size: 0px; height: 26px; width: 26px; background: url(&quot;http://www.castres-mazamet.com/html/highslide/graphics/outlines/custom.png&quot;) -26px -26px;"></td></tr>
				</tbody>
			</table>
			<img src="http://www.castres-mazamet.com/html/highslide/graphics/outlines/custom.png" style="padding: 0px; border: none; margin: 0px; position: absolute; top: -9999px;">
		</div>

		<!-- webglstats.com-->
		<!--<script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>-->
		<script src='../libs/three.js'></script>
		<script src='../libs/controls/OrbitControls.js'></script>
		<script src='../libs/shaders/SkyShader.js'></script>
		<script src='arobase1.js'></script>
		<script src='arobase2.js'></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.2/TweenMax.min.js"></script>

		<script>
			'use strict';

			//next lines are to be removed if the script integrates the website
			//they are meant to correct a display issue in 'submenu Entreprise' 
			//created by the testing page not being served via php


			var el = document.querySelector( '.submenu ul li ul');
			setTimeout( function () {
				el.style.cssText = 'display:block;background:#f2eee1;';
			}, 0 );

			//resources
			var resources = {
					paths:{
						geometries:'json/',
						images:'textures/'
					},
					geometries : [
						'bat1_floor0',
						'bat1_floor1',
						//'bat1_floor0_windows',
						//'bat1_floor1_windows',
						'bat1_floor0_intersect',
						'bat1_floor1_intersect',
						'bat1_floor2',
						'bat2_floor0',
						//'bat2_floor0_windows',
						'bat2_floor1',
						'bat2_floor0_intersect',
						'bat2_floor1_intersect',
						'bat2_floor2',
						'ground'
					],
					images : {
						'bat1_floor0' : null,
						'bat1_floor1' : null,
						'bat1_floor2' : null,
						'bat2_floor0' : null,
						'bat2_floor2' : null,
						'bat2_floor1' : null,
						'ground' : null
					},
					sprites : {
						equipements : [
							{
								x : 1,
								y : 1.5,
								z : 0,
								title : 'Bureau partagé (espace de coworking)'
							},
							{
								x : 1,
								y : 1,
								z : 1,
								title : 'Accès sécurisé 24H/24, 7J/7'
							},
							{
								x : -2.5,
								y : 1,
								z : 1,
								title : 'Accès sécurisé 24H/24, 7J/7'
							},
							{
								x : 2,
								y : 1,
								z : 2,
								title : 'Salles de réunion et de vidéoconférence équipées WIFI'
							},
							{
								x : 7,
								y : 1,
								z : -2,
								title : 'Espace détente / cafétéria'
							}
						],
						quotidien : [
							{
								x : 2.5,
								y : 1,
								z : 1,
								title : 'Accueil physique et téléphonique personnalisé'
							},
							{
								x : 3,
								y : 1,
								z : 1.5,
								title : 'Prestations bureautiques, télécopie'
							},
							{
								x : 1.5,
								y : 1,
								z : 1.2,
								title : 'Presse'
							},
							{
								x : 1,
								y : 1,
								z : 1,
								title : 'Distribution et collecte du courrier'
							},
							{
								x : -2.5,
								y : 1,
								z : 1,
								title : 'Distribution et collecte du courrier'
							},
						]
					}
				};
			
			//basics
			var scene,renderer,camera,controls,raycaster;

			//objects
			var arobase, cubeCamera;
			var bat1_rdc, bat1_rdc_intersect, bat1_1er, bat1_1er_intersect, bat1_Plafond;
			var bat2_rdc, bat2_rdc_intersect, bat2_1er, bat2_1er_intersect, bat2_Plafond;

			//sky
			var sky, sunSphere;

			//rendering
			var lastPosition = new THREE.Vector3(),
				actualPosition = new THREE.Vector3(),
				distance = new THREE.Vector3(),
				rQAID;

			//DOM
			var diapo = document.querySelector('.diaporama'),
				loadLayer, 
				menu;

			//webgl
		    var webgl = ( function () {
		    	try {
		    		var c = document.createElement( 'canvas' );
		    		return !! ( window.WebGLRenderingContext && ( c.getContext( 'webgl' ) || c.getContext( 'experimental-webgl' ) ) );
				} catch ( e ) {
					return false;
				}
			} ) ();


			if ( ! webgl ) {
				diapo.innerHTML = "<img src='./index_files/arobase01.jpg'/>";
			} else {

				//next would be necessary if chosed to delete page text
				/*var p = document.createElement( 'p' );
				p.innerHTML = "Un problème ? Voir la version par défaut";
				p.style.textDecoration = 'underline';
				p.style.cursor = 'pointer';
				p.style.display = 'inline';
				p.webgl = true;
				var inline = document.createElement( 'div' );
				inline.style.textAlign = 'right';
				inline.appendChild( p );
				document.getElementById( 'colGaucheEntr' ).firstElementChild.insertBefore( inline , diapo.nextElementSibling );

				var counter = 0; 

				p.addEventListener( 'click', function () {
					if ( p.webgl ) {
						p.innerHTML = "Voir la version interactive";
						p.webgl = false;
						if ( rQAID ) cancelAnimationFrame( rQAID );
						resources = {
							paths:{
								geometries:'../json/',
								images:'../'
							},
							geometries : [
								'bat1_floor0',
								'bat1_floor1',
								'bat1_floor2',
								'bat1_floor0_windows',
								'bat1_floor1_windows',
								'bat2_floor0',
								'bat2_floor1',
								'bat2_floor2',
								'bat2_floor0_windows',
								'bat2_floor1_windows'
							],
							images : [
								'AOfloor1',
								'AOfloor2',
								'bat2_floor0_01',
								'bat2_floor2'
							]
						};

						scene = renderer = camera = controls = arobase = cubeCamera = sky = sunSphere = undefined;
						diapo.innerHTML = "<img src='./index_files/arobase01.jpg'/>";
					} else {
						//Usual memory leak when deleting context 
						//This will reload the page after restarting context several times
						if ( counter === 4 ) window.location.reload();

						p.innerHTML = "Retourner à la version par défaut";
						p.webgl = true;
						diapo.innerHTML = '';
						counter ++;
						loadScreen();
					}
				}, false );*/

				loadScreen();
			}

			function loadScreen () {

				var progress;

				addLoadScreen();
				loadResources();

				function addLoadScreen () {
					//1. insert renderer
					renderer=new THREE.WebGLRenderer({antialias:true});
					renderer.setSize(552,318);
					diapo.appendChild(renderer.domElement);

					//2. add grey layer
						//create grey layer and insert in diapo
						loadLayer = document.createElement( 'div' );
						loadLayer.style.cssText = ''+
							'background:hsl(345,12%,94%);'+
							'height:368px;width:552px;'+
							'margin-top:-318px;'+
							'z-index:2;'+
							'position:relative;';
						diapo.appendChild( loadLayer );

						//create progress indicator
						progress = document.createElement( 'span' );
						progress.style.cssText = ''+
							'background:hsl(345,12%,40%);'+
							'width:0px;height:4px;'+
							'top:1px;left:1px;'+
							'position:absolute;';

						//create progressBar, append indicator and insert in layer
						var progressBar = document.createElement( 'div' );
						progressBar.style.cssText = ''+
							'background:hsl(345,12%,70%);'+
							'width:100px;height:6px;'+
							'top:50%;left:50%;'+
							'margin-top:-3px;'+
							'margin-left:-50px;'+
							'position:relative;';

						//infos
						var infos = document.createElement( 'p' );
						infos.style.cssText = ''+
							'top:40%;'+
							'text-align:center;'+
							'position:relative;'+
							"font-family:'Yanone Kaffeesatz';"+
							'font-size:18px;';
						infos.innerHTML = "Chargement de la présentation interactive ( 7Mo )";

						loadLayer.appendChild( infos );
						progressBar.appendChild( progress );
						loadLayer.appendChild( progressBar );
				}

				function loadResources () {

					var nFiles = Object.keys( resources.geometries ).length + Object.keys( resources.images ).length,
						counter = 0;
					var loader = new THREE.JSONLoader();

					for ( var i = 0 ; i < resources.geometries.length ; i++ ) loadGeometry( i );
					for ( var p in resources.images ) loadTexture( p );

					function loadGeometry ( v ) {
						var name = resources.geometries[ v ];
						loader.load( resources.paths.geometries + name + '.json', function ( g ) {
							g.name = name;
							resources.geometries[ v ] = g;
							updateProgress();
						});
					}

					function loadTexture ( attr ) {
						var name = attr,
							path = resources.paths.images + name + '.png';
						resources.images[ attr ] = THREE.ImageUtils.loadTexture( path, {}, function ( t ) {
							t.name = name;
							updateProgress();
						});
					}

					function updateProgress () {
						counter ++;
						progress.style.width = ( counter / nFiles * 98 ).toString() + 'px';
						if ( counter === nFiles ) {
							makeObjects();
							setScene();
							diapo.removeChild( loadLayer );
						}
					}

					function makeObjects () {
						resources.meshes = [];

						for ( var i = 0 ; i < resources.geometries.length ; i++ ) add( i );

						function add ( v ) {
							var g = resources.geometries[ v ], 
								defaultMat = new THREE.MeshBasicMaterial({color:0xaaaaaa});
							var material = g.name.indexOf( 'intersect' ) === -1 ? resources.images.hasOwnProperty( g.name ) ? new THREE.MeshBasicMaterial({
									map : resources.images[ g.name ]
								}) : defaultMat : defaultMat;
							var m = new THREE.Mesh( g, material );
							m.name = g.name;
							resources.meshes.push( m );
						}
					}
				}
			}
			
			function setScene () {
				//basics
				scene=new THREE.Scene();

				setView();

				addMeshes();

				addSprites();

				initSky();

				//setRaycaster();

				//lighting
				//setLighting();

				//interaction
				addInteraction();

				animate();
			}

			function addMeshes () {
				cubeCamera = new THREE.CubeCamera( .1, 500, 128 );
				arobase = new THREE.Object3D();
				arobase.name = 'arobase';
				var glassMaterial = new THREE.MeshPhongMaterial({ 
					envMap : cubeCamera.renderTarget,
					combine : THREE.MixOperation,
					reflectivity : 1,
					color : 0x555555, 
					shading : THREE.FlatShading,
					transparent : true,
					alphaTest : .9,
					opacity : 0.7
				});
				for ( var i = 0 ; i < resources.meshes.length ; i++ ) {
					var m = resources.meshes[ i ];
					switch ( m.name ) {
						case 'bat1_floor0' : bat1_rdc = m ; break ;
						case 'bat1_floor1' : bat1_1er = m ; break ;
						case 'bat1_floor0_intersect' : bat1_rdc_intersect = m ; break ;
						case 'bat1_floor1_intersect' : bat1_1er_intersect = m ; break ;
						case 'bat1_floor2' : bat1_Plafond = m ; break ;
						case 'bat2_floor0' : bat2_rdc = m ; break ;
						case 'bat2_floor1' : bat2_1er = m ; break ;
						case 'bat2_floor0_intersect' : bat2_rdc_intersect = m ; break ;
						case 'bat2_floor1_intersect' : bat2_1er_intersect = m ; break ;
						case 'bat2_floor2' : bat2_Plafond = m ; break ;
						default:;break;
					}
					if ( m.name.indexOf( 'windows' ) > -1 ) m.material = glassMaterial;
					if ( m.name.indexOf( 'intersect' ) < 0 ) arobase.add( m );
				}

				bat1_rdc.add( bat1_rdc_intersect );
				bat1_rdc_intersect.material = bat1_rdc.material;
				bat1_rdc_intersect.material.needsUpdate = true;

				bat1_1er.add( bat1_1er_intersect );
				bat1_1er_intersect.material = bat1_1er.material;
				bat1_1er_intersect.material.needsUpdate = true;

				bat2_rdc.add( bat2_rdc_intersect );
				bat2_rdc_intersect.material = bat2_rdc.material;
				bat2_rdc_intersect.material.needsUpdate = true;

				bat2_1er.add( bat2_1er_intersect );
				bat2_1er_intersect.material = bat2_1er.material;
				bat2_1er_intersect.material.needsUpdate = true;

				scene.add( arobase, cubeCamera );

				//render once objects are added
				camera.update = true;
			}

			function addSprites () {
				arobase.userData.sprites = {
					equipements : [],
					quotidien : []
				};
				bat1_rdc.userData.sprites = [];
				bat1_1er.userData.sprites = [];
				bat2_rdc.userData.sprites = [];
				bat2_1er.userData.sprites = [];

				var rE = resources.sprites.equipements;
				for ( var i = 0 ; i < rE.length ; i++ ) {
					var sprite = makeTextSprite( rE[ i ].title, i, true);
					sprite.position.set( rE[ i ].x, rE[ i ].y, rE[ i ].z );
					arobase.userData.sprites.equipements.push( sprite );
				}
				var rQ = resources.sprites.quotidien;
				for ( var i = 0 ; i < rQ.length ; i++ ) {
					var sprite = makeTextSprite( rQ[ i ].title, i, true);
					sprite.position.set( rQ[ i ].x, rQ[ i ].y, rQ[ i ].z );
					arobase.userData.sprites.quotidien.push( sprite );
				}
				var a1RDC = arobase1.levels[ 0 ].locations;
				for ( var i = 0 ; i < a1RDC.length ; i++ ) {
					var sprite = makeTextSprite( a1RDC[ i ].title, i );
					sprite.position.set( a1RDC[ i ].x * 9, 0, a1RDC[ i ].y * 6 ).add(new THREE.Vector3(-.35,1,-3));
					bat1_rdc.userData.sprites.push( sprite );
				}
				var a11 = arobase1.levels[ 1 ].locations;
				for ( var i = 0 ; i < a11.length ; i++ ) {
					var sprite = makeTextSprite( a11[ i ].title, i );
					sprite.position.set( a11[ i ].x * 9, 0, a11[ i ].y * 6 ).add(new THREE.Vector3(-.35,1.5,-3));
					bat1_1er.userData.sprites.push( sprite );
				}
				var a2RDC = arobase2.levels[ 0 ].locations;
				for ( var i = 0 ; i < a2RDC.length ; i++ ) {
					var sprite = makeTextSprite( a2RDC[ i ].title, i );
					sprite.position.set( a2RDC[ i ].x * 12, 0, a2RDC[ i ].y * 9 ).add(new THREE.Vector3(-12.5,1,-3));
					bat2_rdc.userData.sprites.push( sprite );
				}
				var a21 = arobase2.levels[ 1 ].locations;
				for ( var i = 0 ; i < a21.length ; i++ ) {
					var sprite = makeTextSprite( a21[ i ].title, i );
					sprite.position.set( a21[ i ].x * 12, 0, a21[ i ].y * 9 ).add(new THREE.Vector3(-12.5,1.5,-3));
					bat2_1er.userData.sprites.push( sprite );
				}
			}

            function makeTextSprite(message,i, big){
                var canvas=document.createElement('canvas');
                var context=canvas.getContext('2d');
                canvas.width=256;canvas.height=128;
	            var size = big===undefined?'20px':'30px';
                if ( message.length > 18 && message.indexOf(' ') > -1 ) {
            		var m = [], a = [], g = 0, v = 0;
            		for ( var j = 0 ; j < message.length ; j++ ) {
            			v = message.indexOf( ' ', j );
            			a.push( v );
            		}
            		for ( var j= 0 ; j < a.length ; j++ ) {
            			g = Math.max( Math.min( 18, a[ j ] ), g );
            		}
            		m[ 0 ] = message.substring(0, g);
            		m[ 1 ] = message.substring(g, message.length);

	                context.fillStyle="rgba(0,0,0,0)";
	                context.fillRect(0,43*(i%2),256,52);
	                context.fillStyle="rgba(255,255,255,1)";
	                context.lineWidth=2;
	                context.textAlign='center';
	                context.font="Bold "+size+" Lucida Grande";
	                for ( var j = 0 ; j < m.length ; j++ ) context.fillText(m[j],128,22*(1+2*(i%2)+j));
	                context.strokeStyle="rgba(255,255,255,1)";
	                context.lineWidth=3;
					context.moveTo(128,33*(1.5+1.3*(i%2)));
					context.lineTo(128,128);
					context.stroke();
                } else {
	                context.fillStyle="rgba(0,0,0,0)";
	                context.fillRect(0,43*(i%3),256,33);
	                context.fillStyle="rgba(255,255,255,1)";
	                context.lineWidth=2;
	                context.textAlign='center';
	                context.font="Bold "+size+" Lucida Grande";
	                context.fillText(message,128,22*(1+2*(i%3)));
	                context.strokeStyle="rgba(255,255,255,1)";
	                context.lineWidth=3;
					context.moveTo(128,33*(1+1.3*(i%3)));
					context.lineTo(128,128);
					context.stroke();
                }
                
                
                var texture=new THREE.Texture(canvas);
                texture.minFilter=THREE.LinearFilter;
       			texture.needsUpdate=true;
                
                var sprite=new THREE.Sprite(new THREE.SpriteMaterial({ 
                		color:0xffffff,
                        map:texture,
                        depthTest:false,
                        transparent:true,
                        opacity:0
                        })
                    );
                sprite.scale.set(2,1,1)
                return sprite;
            }

			function addInteraction () {

				menu = {
					'nos services' : {
						container : null,
						b1 : 'équipements',
						b2 : 'au quotidien',
						button : null
					},
					'situation' : {
						container : null,
						b1 : 'le Causse',
						b2 : 'la région',
						button : null
					},
					'les bureaux' : {
						container : null,
						b1 : 'bâtiment 1',
						b2 : 'bâtiment 2',
						toggle : null,
						button : null
					}
				};

				addMenu();

				interact();

				function addMenu () {

					//the following function handles css without html and stylesheet nor jquery
					//so it is sometimes silly and can look completely mad
					//but it will allow scene manipulation using the main 'menu' object
					//and each DOMElement inside it has few more javascript properties for that purpose

					var interactionContainer = document.createElement( 'div' );
					interactionContainer.style.cssText = ''+
						'background:hsl(345,12%,94%);'+
						'position:relative;'+
						'text-align:center;'+
						'border:solid 1px #ddd;'+
						'border-radius:0 0 4px 4px;'+
						'height:50px';
					diapo.appendChild( interactionContainer );

					var mainContainer = document.createElement( 'div' );	
					mainContainer.style.cssText = ''+
						'position:relative;'+
						'z-index:2;'+
						'margin-top:-1px;'+
						'border-top:solid 1px #ddd;'+
						'padding:1px 0px 4px 0px;'+
						'background:hsl(345,12%,94%);';
					interactionContainer.appendChild( mainContainer );

					for ( var p in menu ) {
						//create submenu container
						var subMenu = document.createElement( 'div' );
						subMenu.style.cssText = ''+
							'text-align:center;'+
							'margin-top:0px;'+
							'top:0;'+
							'width:100%;'+
							'transition:margin-top 200ms ease;'+
							'z-index:1;'+
							'position:absolute;';
						interactionContainer.appendChild( subMenu );
						menu[ p ].container = subMenu;

						//create submenu
						for ( var attr in menu[ p ] ) {
							if ( attr === 'b1' || attr === 'b2' ) {
								var button = document.createElement( 'button' );
								button.innerHTML = menu[ p ][ attr ];
								var margin = ( p === 'les bureaux' ) ? '0 20px 0 20px;' : '0px 60px 0px 60px;' ;
								button.style.cssText = ''+
									'position:relative;'+
									'background:hsl(345,12%,100%);'+
				   					'cursor:pointer;'+
									"font-family: 'Yanone Kaffeesatz', sans-serif;"+
						   			'font-size: 25px;'+
									'margin:' + margin +
									'border-radius:5px 5px 0px 0px;'+
				   					'color:#1693C1;'+
						   			'display: inline-block;'+
				   					'padding:5px 25px;'+
				   					'box-shadow:5px 5px 5px #333;'+
				   					'transition:background 500ms ease;'+
									'border:none;';
								menu[ p ][ attr ] = button;
								if ( attr === 'b1' ) {
									button.active = true;
									button.position = p;
									button.relative = 'b2';
									button.style.textDecoration = 'underline';
								} else {
									button.active = false;
									button.style.background = 'hsl(345,12%,85%)';
									button.position = p;
									button.relative = 'b1';
									button.onmouseover = onMouseOver;
									button.onmouseout = onMouseOut;
									button.onclick = updateSubButtonStyle;
								}
								subMenu.appendChild( button );
							} 
						}

						if ( p === 'les bureaux' ) {
							var toggle = document.createElement( 'button' );
							toggle.innerHTML = "voir RDC";
							toggle.style.cssText = '' +
								'position:relative;'+
								'width:121px;'+
								'background:hsl(345,12%,85%);'+
								'cursor:pointer;'+
								"font-family: 'Yanone Kaffeesatz', sans-serif;"+
					   			'font-size: 25px;'+
								'margin:0px 30px;'+
				   					'color:#1693C1;'+
								'display:inline-block;'+
								'padding:5px 25px;'+
								'border-radius:5px 5px 0px 0px;'+
				   				'box-shadow:5px 5px 5px #333;'+
									'border:none;';
							toggle.onmousedown = function () { toggle.style.background = 'hsl(345,12%,100%)'; } ;
							toggle.onmouseup = function () { toggle.style.background = 'hsl(345,12%,85%)'; } ;
							toggle.onmouseover = onMouseOver;
							toggle.onmouseout = onMouseOut;
							subMenu.appendChild( toggle );
							menu[ p ].toggle = toggle;
							menu[ p ].toggle.rdc = false;
							menu[ p ].toggle.onclick = function () { this.rdc = !this.rdc ; this.innerHTML = this.rdc ? 'voir 1er' : 'voir RDC';};
						}

						//create menu
						var button = document.createElement( 'button' );
						button.innerHTML = p;
						button.style.cssText = ''+
							'width: 32%; height: 40px;'+
							"font-family: 'Yanone Kaffeesatz', sans-serif;"+
				   			'font-size: 30px;'+
							'background:hsl(345,12%,94%);'+
				   			'color:#1693C1;'+
				   			'cursor:pointer;'+
				   			'margin: 5px 3px 0px 3px;'+
				   			'border-radius:3px;'+
						   	'text-decoration:none;'+
							'z-index:2;'+
							'position:relative;'+
				   			'transition:background 500ms ease;'+
				   			'border:none';
				   		button.active = p === 'nos services' ? true : false;
						button.addEventListener( 'click', updateButtonStyle, false );
			   			menu[ p ].button = button;
						mainContainer.appendChild( button );
					}

					//simulate css button:active without touching css
					var active = menu['nos services'].button;
					active.style.color = 'hsl(345,12%,94%)';
					active.style.background = '#1693C1';
					menu['nos services'].container.style.marginTop = '-40px';

					function updateButtonStyle ( e ) {
						//restore previous element'style
						if ( active !== e.target ) {
							active.active = false;
							active.style.color = '#1693C1';
				   			active.style.background = 'hsl(345,12%,94%)';
				   			for ( var p in menu ) {
				   				if ( active === menu[ p ].button ) {
				   					menu[ p ].container.style.marginTop = '0px';
				   				}
				   			}
						}
			   			//change actual element'style
						active = e.target;
						active.active = true;
						active.style.color = 'hsl(345,12%,94%)';
			   			active.style.background = '#1693C1';
			   			for ( var p in menu ) {
			   				if ( active === menu[ p ].button ) {
			   					menu[ p ].container.style.marginTop = '-40px';
			   				}
			   			}
					}

					function updateSubButtonStyle ( e ) {
						//change other button'style to inactive
						var t = menu[ e.target.position ][ e.target.relative ];
						t.style.textDecoration = 'none';
						t.active = false;
						t.style.background = 'hsl(345,12%,85%)';
						t.onmouseover = onMouseOver;
						t.onmouseout = onMouseOut;
						t.onclick = updateSubButtonStyle;

						//change this button'style to active
						e.target.onmouseover = e.target.onmouseout = e.target.onclick = undefined;
						e.target.style.textDecoration = 'underline';
						e.target.style.background = 'hsl(345,12%,100%)';
						e.target.active = true;
					}

					function onMouseOver ( e ) {
						e.target.style.textDecoration = 'underline';
					}

					function onMouseOut ( e ) {
						e.target.style.textDecoration = 'none';
					}
				}

				function interact () {

					var b = menu[ 'les bureaux' ],
						b1 = menu[ 'nos services' ],
						b2 = menu[ 'situation' ];

					var offset = 7 ,
						duration = .7;

					var occupationRefs = {
						arobase1Position : { x : -4.4, y : 0, z  : .3 },
						arobase1CameraPosition : { x : 1.5, y : 9, z : 5.5 },
						arobase2Position : { x : 7, y : 0, z : -1 },
						arobase2CameraPosition : { x : -1, y : 10, z : 6.5 },
						defaultCameraPosition : { x : 13, y : 5, z : 6 },
						causseCameraPosition : { x : 13, y : 20, z : -30 },
						regionCameraPosition : { x : -100, y : 200, z : 300 },
						equipCamera : { x : 14, y : 5.4, z : 2.3 },
						servicesCam : { x: .7, y : 6.2, z : 13.8 }
					};

					var tween = {
						cameraX : camera.position.x,
						cameraY : camera.position.y,
						cameraZ : camera.position.z,
						arobaseX : arobase.position.x,
						arobaseY : arobase.position.y,
						arobaseZ : arobase.position.z,
						bat1_1er : bat1_1er.position.y,
						bat1_Plafond : bat1_Plafond.position.y,
						bat2_1er : bat2_1er.position.y,
						bat2_Plafond : bat2_Plafond.position.y,
						sprites1RDC : 0,
						sprites11 : 0,
						sprites2RDC : 0,
						sprites21 : 0,
						spritesE : 0,
						spritesQ : 0,
						t : 0
					};

					//setTimeout to let b1.active or b2.active be set, and detect the click origin quick inside a single function
					b.button.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );
					b.b1.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );
					b.b2.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );
					b.toggle.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );

					b1.button.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );
					b1.b1.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );
					b1.b2.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );

					b2.button.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );
					b2.b1.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );
					b2.b2.addEventListener( 'click', function () { setTimeout( tweenfunction, 0 )}, false );

					function tweenfunction () {
						tween.cameraX = camera.position.x;
						tween.cameraY = camera.position.y;
						tween.cameraZ = camera.position.z;

						var cameraPosition, arobasePosition, 
							bat1_1er_offset, bat1_Plafond_offset,
							bat2_1er_offset, bat2_Plafond_offset,
							sprites1RDC, sprites11,
							sprites2RDC, sprites21, 
							spritesE, spritesQ,
							useSpline, spline;

						if ( b.button.active ) {//bureaux
							//useSpline = true;
							tween.t = 0;
							cameraPosition = b.b1.active ? occupationRefs.arobase1CameraPosition : occupationRefs.arobase2CameraPosition;
							arobasePosition = b.b1.active ? occupationRefs.arobase1Position : occupationRefs.arobase2Position;
							bat1_1er_offset = b.b1.active ? b.toggle.rdc ? offset : 0 : 0 ;
							bat1_Plafond_offset = b.b1.active ? offset : 0 ;
							bat2_1er_offset = b.b2.active ? b.toggle.rdc ? offset : 0 : 0 ;
							bat2_Plafond_offset = b.b2.active ? offset : 0 ;
							sprites1RDC = b.b1.active ? b.toggle.rdc ? 1 : 0 : 0;
							sprites11 = b.b1.active ? b.toggle.rdc ? 0 : 1 : 0;
							sprites2RDC = b.b2.active ? b.toggle.rdc ? 1 : 0 : 0;
							sprites21 = b.b2.active ? b.toggle.rdc ? 0 : 1 : 0;
							spritesE = spritesQ = 0;
						} else if ( b1.button.active ) {//nos services
							//useSpline = true;
							tween.t = 0;
							spritesE = b1.b1.active ? 1 : 0;
							spritesQ = b1.b2.active ? 1 : 0;
							cameraPosition = b1.b1.active ? occupationRefs.equipCamera : occupationRefs.servicesCam;
							arobasePosition = {x:0,y:0,z:0};
							bat1_1er_offset = bat1_Plafond_offset = bat2_1er_offset = bat2_Plafond_offset = 0;
							sprites1RDC = sprites11 = sprites2RDC = sprites21 = 0;
						} else {//situation
							//useSpline = true;
							tween.t = 0;
							cameraPosition = b2.b1.active ? occupationRefs.causseCameraPosition : occupationRefs.regionCameraPosition;
							arobasePosition = {x:0,y:0,z:0};
							bat1_1er_offset = bat1_Plafond_offset = bat2_1er_offset = bat2_Plafond_offset = 0 ;
							sprites1RDC = sprites11 = sprites2RDC = sprites21 = spritesE = spritesQ = 0;
						}

						if ( useSpline ) {
							var x = camera.position.x + Math.random() * ( cameraPosition.x - camera.position.x ),
								y = (camera.position.y + cameraPosition.y ) / 2,
								z = camera.position.z + Math.random() * ( cameraPosition.z - camera.position.z );

							spline = new THREE.CatmullRomCurve3( [
								camera.position.clone(),
								new THREE.Vector3( x, y, z ),
								new THREE.Vector3( cameraPosition.x, cameraPosition.y, cameraPosition.z )
							] );
						}

						TweenLite.to( tween, duration, {
							cameraX : cameraPosition.x,
							cameraY : cameraPosition.y,
							cameraZ : cameraPosition.z,
							t : 1,
							arobaseX : arobasePosition.x,
							arobaseY : arobasePosition.y,
							arobaseZ : arobasePosition.z,
							bat1_1er : bat1_1er_offset,
							bat1_Plafond : bat1_Plafond_offset,
							bat2_1er : bat2_1er_offset,
							bat2_Plafond : bat2_Plafond_offset,
							sprites1RDC : sprites1RDC,
							sprites11 : sprites11,
							sprites2RDC : sprites2RDC,
							sprites21 : sprites21,
							spritesE : spritesE,
							spritesQ : spritesQ,
							onUpdate : onUpdate,
							onComplete : onComplete
						} );

						function onUpdate () {
							if ( useSpline ) {
								var position = spline.getPointAt( tween.t );
								camera.position.copy( position );
							} else {
								camera.position.set( tween.cameraX, tween.cameraY, tween.cameraZ );
							}
							arobase.position.set( tween.arobaseX, tween.arobaseY, tween.arobaseZ );
							bat1_1er.position.z = - tween.bat1_1er;
							bat1_Plafond.position.z = - tween.bat1_Plafond;
							bat2_1er.position.z = - tween.bat2_1er;
							bat2_Plafond.position.z = - tween.bat2_Plafond;

							if ( tween.spritesE > 0 ) {
								var a = arobase.userData.sprites.equipements;
								for ( var i = 0 ; i < a.length ; i++ ) {
									a[ i ].material.opacity = tween.spritesE;
									if ( ! a[ i ].parent ) arobase.add( a[ i ] );
								}
							}
							if ( tween.spritesQ > 0 ) {
								var a = arobase.userData.sprites.quotidien;
								for ( var i = 0 ; i < a.length ; i++ ) {
									a[ i ].material.opacity = tween.spritesQ;
									if ( ! a[ i ].parent ) arobase.add( a[ i ] );
								}
							}
							if ( tween.sprites1RDC > 0 ) {
								var a = bat1_rdc.userData.sprites;
								for ( var i = 0 ; i < a.length ; i++ ) {
									a[ i ].material.opacity = tween.sprites1RDC;
									if ( ! a[ i ].parent ) arobase.add( a[ i ] );
								}
							}
							if ( tween.sprites11 > 0 ) {
								var a = bat1_1er.userData.sprites;
								for ( var i = 0 ; i < a.length ; i++ ) {
									a[ i ].material.opacity = tween.sprites11;
									if ( ! a[ i ].parent ) arobase.add( a[ i ] );
								}
							}
							if ( tween.sprites2RDC > 0 ) {
								var a = bat2_rdc.userData.sprites;
								for ( var i = 0 ; i < a.length ; i++ ) {
									a[ i ].material.opacity = tween.sprites2RDC;
									if ( ! a[ i ].parent ) arobase.add( a[ i ] );
								}
							}
							if ( tween.sprites21 > 0 ) {
								var a = bat2_1er.userData.sprites;
								for ( var i = 0 ; i < a.length ; i++ ) {
									a[ i ].material.opacity = tween.sprites21;
									if ( ! a[ i ].parent ) arobase.add( a[ i ] );
								}
							}
							camera.update = true;
						}

						function onComplete () {
							var a = arobase.children;
							for ( var i = 0 ; i < a.length ; i++ ) if ( a[ i ].type === 'Sprite' && a[ i ].material.opacity === 0 ) arobase.remove( a[ i ] );
						}
					}


				}
			}

			function setRaycaster () {
				raycaster = new THREE.Raycaster();
				renderer.domElement.addEventListener('click', raycast, false);
			}

			function raycast ( e ) {
				var mouse = {};
				mouse.x = 2 * e.offsetX / 552 - 1;
				mouse.y = 1 - 2 * e.offsetY / 318;
				raycaster.setFromCamera( mouse, camera );

				var intersects = raycaster.intersectObjects( arobase.children );

				for ( var i = 0 ; i < intersects.length ; i++ ) {
					if ( intersects[ i ].object.type === 'Sprite' ) {
						intersects[ i ].object.material.color = 0xff0000;
						break;
					}
				}
			}

			function animate () {
				rQAID = requestAnimationFrame(animate);

				lastPosition.copy( camera.position );
				controls.update();
				actualPosition.copy( camera.position );
				distance.subVectors(actualPosition,lastPosition);

				if ( distance.length() > .001 || camera.update ) {
					scene.remove( arobase );
					//cubeCamera.updateCubeMap( renderer, scene );
					scene.add( arobase );
					renderer.render( scene, camera );
					camera.update = false;
				}
			}

			function setView () {
				camera=new THREE.PerspectiveCamera(30,552/318,.1,600);
				camera.position.set( 13, 5, 6 );
				controls=new THREE.OrbitControls(camera,renderer.domElement);
				controls.enableDamping=true;
				controls.enableZoom=false;
				controls.enablePan=false;
				controls.dampingFactor=.05;
				controls.rotateSpeed=.07;
				controls.maxPolarAngle=Math.PI/2;
			}

			function initSky () {

				// Add Sky Mesh
				sky = new THREE.Sky();
				scene.add( sky.mesh );

				//set parameters
				var inclination = 0.72;
				var azimuth = 0.9;
				sky.uniforms.turbidity.value = 10;
				sky.uniforms.reileigh.value = 2;
				sky.uniforms.luminance.value = 1;
				sky.uniforms.mieCoefficient.value = 0.005;
				sky.uniforms.mieDirectionalG.value = 0.99;

				// Add Sun Helper
				var distance = 1000;
				var theta = Math.PI * ( inclination - 0.5 );
				var phi = 2 * Math.PI * ( azimuth - 0.5 );
				sunSphere = new THREE.Mesh(
					new THREE.SphereGeometry( 200, 16, 8 ),
					new THREE.MeshBasicMaterial( { color: 0xffffff } )
				);
				sunSphere.position.x = distance * Math.cos( phi );
				sunSphere.position.y = distance * Math.sin( phi ) * Math.sin( theta );
				sunSphere.position.z = distance * Math.sin( phi ) * Math.cos( theta );
				sunSphere.visible = false;
				sky.uniforms.sunPosition.value.copy( sunSphere.position );
				//scene.add( sunSphere );
			}

			function setLighting () {
				var ambient = new THREE.AmbientLight( 0x999999 );
				var dir = new THREE.DirectionalLight( 0xffffff, 1, 20, Math.PI/5 );
				dir.position.set( -7, 5, 5 );
				var counterDir = new THREE.DirectionalLight( 0xffffff, 1, 20, Math.PI/5 );
				counterDir.position.set( 7, 5, -5 );
				scene.add( ambient, dir );
				scene.add( counterDir );

				//helper
				//scene.add( new THREE.DirectionalLightHelper( dir ) );

				//shadows
				dir.castShadow = true;
				dir.shadowCameraNear = 5;
				dir.shadowCameraFar = 20;
				dir.shadowCameraTop = 3;
				dir.shadowCameraRight = 3;
				dir.shadowCameraBottom = -2;
				dir.shadowCameraLeft = -4.2;
				dir.shadowMapWidth = dir.shadowMapHeight = 1024;

				renderer.shadowMap.enabled = true;
				renderer.shadowMap.autoUpdate = false;
			}
						
		</script>
	</body>
</html>